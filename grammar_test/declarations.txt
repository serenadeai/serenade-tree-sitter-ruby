============
empty method
============

def foo
end

def foo?
end

def foo!
end

---

(program
  (method_declaration (identifier))
  (method_declaration (identifier))
  (method_declaration (identifier)))

================
method with body
================

def foo
  bar
end

---

(program (method_declaration (identifier) (identifier)))

================
method with args
================

def foo(bar)
end

---

(program (method_declaration (identifier) (formal_parameters (identifier))))

================================
method with unparenthesized args
================================

def foo bar
end

---

(program (method_declaration (identifier) (formal_parameters (identifier))))

=========================
method with multiple args
=========================

def foo(bar, quux)
end

---

(program (method_declaration (identifier) (formal_parameters (identifier) (identifier))))

=========================================
method with multiple unparenthesized args
=========================================

def foo bar, quux
end

---

(program (method_declaration (identifier) (formal_parameters (identifier) (identifier))))

=========================================
method with keyword parameters
=========================================

def foo(bar: nil, baz:)
end

---

(program
  (method_declaration (identifier)
    (formal_parameters
      (keyword_parameter (identifier) (nil))
      (keyword_parameter (identifier)))))

=========================================
method with default parameters
=========================================

def foo(bar = nil)
end

def foo(bar=nil)
end

---

(program
  (method_declaration (identifier)
    (formal_parameters (positional_parameter (identifier) (nil))))
  (method_declaration (identifier)
    (formal_parameters (positional_parameter (identifier) (nil)))))

=========================================
method with interesting params
=========================================

def foo(*options)
end

def foo(x, *options)
end

def foo(x, *options, y)
end

def foo(**options)
end

def foo(name:, **)
end

def foo(&block)
end

---

(program
  (method_declaration (identifier) (formal_parameters (identifier)))
  (method_declaration (identifier) (formal_parameters (identifier) (identifier)))
  (method_declaration (identifier) (formal_parameters (identifier) (identifier) (identifier)))
  (method_declaration (identifier) (formal_parameters (identifier)))
  (method_declaration (identifier) (formal_parameters (keyword_parameter (identifier)) (positional_parameter)))
  (method_declaration (identifier) (formal_parameters (identifier))))

=========================================
singleton method
=========================================

def self.foo
end

---

(program (method_declaration (identifier) (identifier)))

=========================================
singleton method with body
=========================================

def self.foo
  bar
end

---

(program (method_declaration (identifier) (identifier) (identifier)))


=========================================
singleton method with arg
=========================================

def self.foo(bar)
end

---

(program (method_declaration (identifier) (identifier) (formal_parameters (identifier))))

=========================================
singleton method with un-parenthesized arg
=========================================

def self.foo bar
end

---

(program (method_declaration (identifier) (identifier) (formal_parameters (identifier))))

=========================================
singleton method with args
=========================================

def self.foo(bar, baz)
end

---

(program (method_declaration (identifier) (identifier) (formal_parameters (identifier) (identifier))))


=========================================
singleton method with un-parenthesized args
=========================================

def self.foo bar, baz
end

---

(program (method_declaration (identifier) (identifier) (formal_parameters (identifier) (identifier))))

===========
empty class
===========

class Foo
end

---

(program (class_declaration (identifier)))

==============
empty subclass
==============

class Foo < Bar
end

---

(program (class_declaration (identifier) (identifier)))

==================================
empty subclass of namespaced class
==================================

class Foo < Bar::Quux
end

---

(program (class_declaration (identifier) (identifier) (identifier)))

===============
class with body
===============

class Foo
	def bar
	end
end

---

(program (class_declaration (identifier) (method_declaration (identifier))))

============
empty module
============

module Foo
end

---

(program (module_declaration (identifier)))

================
module with body
================

module Foo
	def bar
	end
end

---

(program (module_declaration (identifier) (method_declaration (identifier))))

=======
__END__
=======

word
__END__
word

---

(program (identifier) (uninterpreted))

==============================
module with class with methods
==============================

module A
  class B < C
    include D::E.f.g

    attr_reader :h

    # i
    def j
      k
    end

    def self.l
    end
  end
end

---

(program (module_declaration (identifier)
  (class_declaration (identifier) (identifier)
    (function_call (identifier) (argument_list
      (member_access
        (member_access
          (scope_resolution_expression (identifier) (identifier))
          (identifier))
        (identifier))))

    (function_call (identifier) (argument_list (symbol)))

    (comment)
    (method_declaration (identifier) (identifier))
    (method_declaration (identifier) (identifier)))))
